<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>Karen Gómez P. — Analista de Datos</title>

  <meta name="description" content="Portafolio profesional de Karen Gómez P. — Química y Analista de Datos. Bioestadística, ML, visualización y consultoría.">

  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">

  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    integrity=""
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  />

 <style>
    html {
      scroll-behavior: smooth;
    }

    :root {
  --primary:#0077b6;
  --primary-dark:#005f8e;
  --accent:#ffb703;
  --bg:#f5f7fb;
  --card:#ffffff;
  --text:#20313a;
  --muted:#55666f;
  --radius:12px;
  --shadow: 0 8px 22px rgba(16,24,40,0.08);
  --max-width:1200px;

  /* WhatsApp */
  --whatsapp:#25D366;
  --whatsapp-dark:#1ebe5d;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:'Roboto',sans-serif;
  background:var(--bg);
  color:var(--text);
  line-height:1.6;
  -webkit-font-smoothing:antialiased
}

a{color:var(--primary);text-decoration:none}
a:hover{color:var(--primary-dark)}

    /* NAV */
    .nav{
      position:sticky;
      top:0;
      background:rgba(255,255,255,0.9);
      backdrop-filter:blur(6px);
      border-bottom:1px solid rgba(0,0,0,0.04);
      z-index:1000
    }

    .nav .inner{
      max-width:var(--max-width);
      margin:0 auto;
      padding:12px 18px;
      display:flex;
      align-items:center;
      gap:12px;
      justify-content:space-between
    }

    .brand{
      font-family:'Playfair Display',serif;
      color:var(--primary);
      font-size:24px;
      font-weight:700;
      letter-spacing: -0.5px;
      text-decoration: none;
      transition: opacity 0.3s;
    }
    
    .brand:visited {
      color: var(--primary);
    }
    
    .brand:hover {
      opacity: 0.8; 
      color: var(--primary); 
    }
    
    .links{
      display:flex;
      gap:16px;
      align-items:center
    }

    .links a{
      padding:8px 10px;
      border-radius:8px;
      font-weight:500;
      color:var(--text)
    }

    .links a:hover{
      background:rgba(0,119,182,0.06);
      color:var(--primary-dark)
    }

    .lang-btn{
      background:var(--primary);
      color:#fff;
      border:none;
      padding:8px 12px;
      border-radius:18px;
      cursor:pointer;
      font-weight:600;
      min-width: 50px;
    }

    .hamburger{
      display:none;
      background:transparent;
      border:none;
      font-size:20px;
      cursor:pointer;
      color:var(--text)
    }

    @media (max-width:900px){
      .links{
        display:none;
        position:absolute;
        right:20px;
        top:64px;
        background:var(--card);
        flex-direction:column;
        padding:12px;
        border-radius:12px;
        box-shadow:var(--shadow)
      }
      .links.show{display:flex}
      .hamburger{display:inline-block}
    }

    /* HERO CON ICONOS */
    header.hero{
      position: relative;
      background:linear-gradient(135deg,#0077b6 0%,#0096c7 60%);
      color:white;
      padding:72px 18px;
      text-align:center;
      overflow: hidden; 
    }

    header.hero::before {
      content: "";
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      opacity: 0.12;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120' viewBox='0 0 100 100'%3E%3Cg fill='%23FFFFFF'%3E%3Cpath d='M10 80 L30 50 L50 70 L90 20' stroke='white' stroke-width='2' fill='none'/%3E%3Ccircle cx='10' cy='80' r='2'/%3E%3Ccircle cx='30' cy='50' r='2'/%3E%3Ccircle cx='50' cy='70' r='2'/%3E%3Ccircle cx='90' cy='20' r='2'/%3E%3Crect x='70' y='60' width='6' height='15' opacity='0.5'/%3E%3Crect x='80' y='50' width='6' height='25' opacity='0.5'/%3E%3Crect x='90' y='65' width='6' height='10' opacity='0.5'/%3E%3Cpath d='M10 20 L25 20 L25 35' stroke='white' stroke-width='1' fill='none'/%3E%3C/g%3E%3C/svg%3E");
      background-size: 200px 200px;
      pointer-events: none;
    }

    .hero-inner{
      position: relative;
      z-index: 1;
      max-width:var(--max-width);
      margin:0 auto;
      display:flex;
      gap:20px;
      align-items:center;
      justify-content:center;
      flex-wrap:wrap
    }

    .hero-photo{
      width:150px;
      height:150px;
      border-radius:50%;
      overflow:hidden;
      border:4px solid rgba(255,255,255,0.18);
      box-shadow:0 8px 18px rgba(0,0,0,0.18)
    }

    .hero-photo img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block
    }

    .hero-text h1{
      font-family:'Playfair Display';
      font-size:36px;
      margin:8px 0
    }

    .hero-text p{
      margin:0;
      font-size:16px;
      opacity:0.95
    }

    .hero-cta{
      margin-top:14px;
      display:flex;
      gap:10px;
      justify-content:center;
      flex-wrap:wrap
    }

    .btn-primary{
      background:var(--accent);
      color:#000;
      padding:10px 18px;
      border-radius:26px;
      font-weight:700;
      border:none;
      cursor:pointer;
      display: inline-block;
    }

    .btn-outline{
      background:transparent;
      color:white;
      border:1px solid rgba(255,255,255,0.18);
      padding:10px 14px;
      border-radius:26px;
      cursor: pointer;
    }

    /* --- ESTILOS DEL MODAL --- */
    .modal {
      display: none; 
      position: fixed; 
      z-index: 2000; 
      left: 0; top: 0;
      width: 100%; height: 100%;
      background-color: rgba(0,0,0,0.5);
      backdrop-filter: blur(4px);
      overflow-y: auto;
    }
    .modal-content {
      background-color: var(--card);
      margin: 5% auto;
      padding: 30px;
      border-radius: var(--radius);
      width: 90%;
      max-width: 500px;
      box-shadow: var(--shadow);
      position: relative;
    }
    .close-modal {
      position: absolute;
      right: 20px; top: 15px;
      font-size: 28px;
      cursor: pointer;
      color: var(--muted);
    }
    .form-group input, .form-group textarea {
  width: 100%;
  padding: 10px;
  border: 1px solid #ddd;
  border-radius: 8px;
  font-family: inherit;
}

/* =========================
   Botón WhatsApp
   ========================= */

.btn-whatsapp {
  display: inline-flex;
  align-items: center;
  gap: 12px;

  background: var(--whatsapp);
  color: #ffffff !important;

  padding: 16px 36px;
  border-radius: 999px;

  font-size: 1.05rem;
  font-weight: 700;
  text-decoration: none;

  box-shadow: 0 12px 28px rgba(37, 211, 102, 0.35);
  transition: all 0.25s ease;
}

/* Icono de WhatsApp */
.btn-whatsapp i {
  font-size: 1.35rem;
}

/* Hover */
.btn-whatsapp:hover {
  background: var(--whatsapp-dark);
  transform: translateY(-2px);
  box-shadow: 0 16px 34px rgba(37, 211, 102, 0.45);
}

  /* ACORDEÓN FAQ DENTRO DEL MODAL (VERSIÓN CORREGIDA) */
.faq-item { border-bottom: 1px solid #edf2f7; padding: 5px 0; }

.faq-question {
    width: 100%; background: none; border: none; text-align: left;
    display: flex; justify-content: space-between; align-items: center;
    font-weight: 600; cursor: pointer; padding: 15px 0;
    color: var(--text); font-size: 14px;
    transition: color 0.2s ease; /* Para que cambie de color al abrirse */
}

/* 1. Añadimos rotación suave al icono */
.faq-question i {
    transition: transform 0.3s ease;
    color: var(--primary); /* La flecha resalta con tu color de marca */
}

.faq-answer { 
    max-height: 0; 
    overflow: hidden; 
    transition: all 0.3s ease-in-out;
    color: var(--muted); 
    font-size: 14px;
    padding: 0;
}

.faq-item.active .faq-answer { 
    max-height: 500px; 
    padding: 10px 0 15px 0; 
}

/* 2. Que la flecha gire cuando el ítem está activo */
.faq-item.active i {
    transform: rotate(180deg);
}

/* 3. Feedback visual: que el texto resalte cuando esté abierto */
.faq-item.active .faq-question {
    color: var(--primary);
}
    /* MAIN */
    main{
      max-width:var(--max-width);
      margin:36px auto;
      padding:0 18px
    }

    section{padding:30px 0}

    section h2{
      font-family:'Playfair Display',serif;
      color:var(--primary-dark);
      font-size:28px;
      margin-bottom:14px;
      text-align:center
    }

    /* ABOUT */
    .about-card{
      background:var(--card);
      border-radius:12px;
      padding:20px;
      box-shadow:var(--shadow);
      max-width:900px;
      margin:0 auto
    }

    /* SERVICES */
    .services-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
      gap:16px;
      margin-top:12px
    }

    .service{
      background:var(--card);
      padding:24px 16px;
      border-radius:12px;
      box-shadow:var(--shadow);
      text-align:center;
      cursor: pointer;
      transition: 0.3s ease;
      border-bottom: 3px solid transparent;
    }
    .service:hover {
      transform: translateY(-5px);
      border-bottom: 3px solid var(--primary);
    }

    .service i{
      font-size:28px;
      color:var(--primary);
      margin-bottom:8px
    }

    /* PROJECTS */
    .projects-grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
      gap:20px
    }

    .project-card{
      background:var(--card);
      border-radius:12px;
      overflow:hidden;
      box-shadow:var(--shadow);
      display:flex;
      flex-direction:column;
      transition:transform .22s ease,box-shadow .22s ease
    }

    .project-card:hover{
      transform:translateY(-6px);
      box-shadow:0 14px 28px rgba(16,24,40,0.12)
    }

    .project-media{
      width:100%;
      height:200px;
      background:#e9ecef;
      display:flex;
      align-items:center;
      justify-content:center
    }

    .project-media img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block
    }

    .project-body{
      padding:16px;
      flex:1;
      display:flex;
      flex-direction:column
    }

    .project-body h3{
      margin:0 0 8px;
      color:var(--primary-dark)
    }

    .project-body p{
      color:var(--muted);
      flex:1
    }

    .project-footer{
      padding:12px 16px;
      display:flex;
      align-items:center;
      gap:12px
    }

    .project-link{
      background:var(--primary);
      color:#fff;
      padding:8px 12px;
      border-radius:20px;
      text-decoration:none;
      font-weight:600
    }

    /* CTA / CONTACT */
    .cta{
      background:linear-gradient(90deg, rgba(0,119,182,0.06), rgba(0,95,142,0.04));
      border-radius:12px;
      padding:20px;
      text-align:center;
      box-shadow:var(--shadow)
    }

    footer{
      padding:18px;
      text-align:center;
      color:var(--muted);
      margin-top:28px
    }

    @media (max-width:720px){
      .hero-text h1{font-size:28px}
      .hero-photo{width:120px;height:120px}
    }

    a:focus,button:focus{
      outline:3px solid rgba(0,119,182,0.12);
      outline-offset:3px
    }
   /* Animación de latido para el botón de WhatsApp */
@keyframes pulse-whatsapp {
  0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(40, 167, 69, 0.7); }
  70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(40, 167, 69, 0); }
  100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(40, 167, 69, 0); }
}

.btn-whatsapp-pulse {
  animation: pulse-whatsapp 2s infinite;
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
  background-color: var(--whatsapp) !important;
  border-color: var(--whatsapp) !important;
  color: #ffffff !important;
}
  </style>
</head>

<body>
  <nav class="nav" role="navigation" aria-label="Main navigation">
    <div class="inner">
      <a href="#" class="brand">Karen Gómez P.</a>
      
      <div class="links" id="navLinks" aria-hidden="false">
        <a href="#about" id="nav-about">Sobre mí</a>
        <a href="#services" id="nav-services">Servicios</a>
        <a href="#projects" id="nav-projects">Proyectos</a>
        <a href="#contact" id="nav-contact">Contacto</a>
        <a href="https://github.com/karengzplazas" target="_blank" aria-label="GitHub">
          <i class="fab fa-github"></i>
        </a>
        <a href="https://www.linkedin.com/in/karen-gomez-plazas/" target="_blank" aria-label="LinkedIn">
          <i class="fab fa-linkedin"></i>
        </a>
      </div>

      <div style="display:flex;gap:10px;align-items:center">
        <button class="lang-btn" id="langToggle" aria-pressed="false">EN</button>
        <button class="hamburger" id="hamburger" aria-expanded="false" aria-controls="navLinks">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </div>
  </nav>

 <header class="hero" role="banner">
  <div class="hero-inner">
    <div class="hero-photo" aria-hidden="false">
      <img src="Karen.png" alt="Foto de Karen Gómez" id="profilePic">
    </div>

    <div class="hero-text">
      <h1 id="heroName" style="font-family:'Playfair Display'; font-size: 2.8rem; margin-bottom: 15px;">
        Transformando datos en decisiones claras
      </h1>
      
      <p id="heroSubtitle" style="font-size: 1.4rem; font-weight: 300; opacity: 0.95;">
        Bioestadística • Machine Learning • Química
      </p>

      <div class="hero-cta" style="margin-top: 30px;">
        <a class="btn-primary" id="ctaPrimary" href="#contact">Trabajemos juntos</a>
        <a class="btn-outline" id="ctaSecondary" href="https://github.com/karengzplazas" target="_blank" style="margin-left: 10px;">Ver GitHub</a>
      </div>
    </div>
  </div>
</header>

 <main>
    <section id="about" aria-labelledby="aboutTitle">
      <h2 id="aboutTitle">Sobre mí</h2>

      <div class="about-card">
        <p id="aboutText1" style="font-size: 1.1rem; line-height: 1.6;">
          <strong>Química con experiencia en análisis de datos y bioestadística aplicada a proyectos reales.</strong> 
          Ayudo a transformar datos científicos en información clara para la toma de decisiones en salud, educación e industria.
        </p>

        <p id="aboutText2" style="margin-top:12px; color:var(--muted); line-height: 1.6;">
          Trabajo con Python, SQL y Power BI, aplicando técnicas de machine learning y análisis estadístico para generar resultados reproducibles, bien documentados y fáciles de comunicar. 
          Si necesitas apoyo analítico riguroso, visualizaciones claras o acompañamiento estadístico para tus estudios o proyectos, ¡conversemos!
        </p>
      </div>
    </section>

    <section id="services" aria-labelledby="servicesTitle">
      <h2 id="servicesTitle">Servicios</h2>

      <div class="services-grid">
        <div class="service" onclick="openServiceModal('analytics')">
          <i class="fas fa-chart-line" aria-hidden="true"></i>
          <h4 id="service1Title">Analítica & Visualización</h4>
          <p id="service1Desc">Dashboards interactivos y reportes ejecutivos.</p>
        </div>

        <div class="service" onclick="openServiceModal('bio')">
          <i class="fas fa-vials" aria-hidden="true"></i>
          <h4 id="service2Title">Bioestadística</h4>
          <p id="service2Desc">Diseño experimental y análisis de estudios de salud.</p>
        </div>

        <div class="service" onclick="openServiceModal('data')">
          <i class="fas fa-database" aria-hidden="true"></i>
          <h4 id="service3Title">Gestión de Datos</h4>
          <p id="service3Desc">ETL, SQL y pipelines reproducibles.</p>
        </div>

        <div class="service" onclick="openServiceModal('training')">
          <i class="fas fa-chalkboard-teacher" aria-hidden="true"></i>
          <h4 id="service4Title">Capacitaciones</h4>
          <p id="service4Desc">Talleres prácticos en Python y visualización.</p>
        </div>
      </div>
    </section>

    <section id="projects" aria-labelledby="projectsTitle">
      <h2 id="projectsTitle">Proyectos Destacados</h2>

      <div class="projects-grid" role="list">
        <article class="project-card" role="listitem" aria-labelledby="p1Title">
          <div class="project-media" aria-hidden="true">
            <img src="https://images.unsplash.com/photo-1505839673365-e3971f8d9184?q=80&w=1400&auto=format&fit=crop" alt="Titanic">
          </div>
          <div class="project-body">
            <h3 id="p1Title">Titanic Survival Analysis</h3>
            <p id="p1Desc">Análisis predictivo para determinar factores de supervivencia usando ML y explicación de variables.</p>
          </div>
          <div class="project-footer">
            <a class="project-link p-link" href="https://github.com/karengzplazas/titanic-analysis" target="_blank" rel="noopener">Ver proyecto</a>
            <span style="margin-left:auto;color:var(--muted);font-size:13px">Python • sklearn • EDA</span>
          </div>
        </article>

        <article class="project-card" role="listitem" aria-labelledby="p2Title">
          <div class="project-media" aria-hidden="true">
            <img src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?q=80&w=1400&auto=format&fit=crop" alt="Churn">
          </div>
          <div class="project-body">
            <h3 id="p2Title">Customer Churn Prediction</h3>
            <p id="p2Desc">Modelo para predecir abandono y estrategia de optimización de retención.</p>
          </div>
          <div class="project-footer">
            <a class="project-link p-link" href="https://github.com/karengzplazas/telco-churn-prediction" target="_blank" rel="noopener">Ver proyecto</a>
            <span style="margin-left:auto;color:var(--muted);font-size:13px">Random Forest • Feature Eng.</span>
          </div>
        </article>

        <article class="project-card" role="listitem" aria-labelledby="p3Title">
          <div class="project-media" aria-hidden="true">
            <img src="https://images.unsplash.com/photo-1542362567-b07e54358753?q=80&w=1400&auto=format&fit=crop" alt="Autos">
          </div>
          <div class="project-body">
            <h3 id="p3Title">Used Cars Investment Analysis</h3>
            <p id="p3Desc">Análisis de mercado de autos usados y modelo de optimización de compra-venta.</p>
          </div>
          <div class="project-footer">
            <a class="project-link p-link" href="https://github.com/karengzplazas/autos-usados" target="_blank" rel="noopener">Ver proyecto</a>
            <span style="margin-left:auto;color:var(--muted);font-size:13px">Optimización • Visualización</span>
          </div>
        </article>

        <article class="project-card" role="listitem" aria-labelledby="p4Title">
          <div class="project-media" aria-hidden="true">
            <img src="https://images.unsplash.com/photo-1523580494863-6f3031224c94?q=80&w=1400&auto=format&fit=crop" alt="Educación">
          </div>
          <div class="project-body">
            <h3 id="p4Title">Estadísticas en Educación - Colombia</h3>
            <p id="p4Desc">Estudio y visualizaciones para apoyar políticas públicas basadas en datos.</p>
          </div>
          <div class="project-footer">
            <a class="project-link p-link" href="https://github.com/karengzplazas/ESTADISTICAS_EN_EDUCACION" target="_blank" rel="noopener">Ver proyecto</a>
            <span style="margin-left:auto;color:var(--muted);font-size:13px">Folium • Análisis espacial</span>
          </div>
        </article>
      </div>
    </section>

    <section id="diagnostic-call" style="background-color: #f8f9fa; padding: 80px 20px; text-align: center; border-top: 1px solid #eee;">
      <div style="max-width: 800px; margin: 0 auto;">
        <span id="diagStep" style="color: var(--primary); font-weight: 700; text-transform: uppercase; font-size: 0.85rem; letter-spacing: 2px;"></span>
        <h2 id="diagTitle" style="font-family: 'Playfair Display', serif; font-size: 2.5rem; margin: 15px 0;"></h2>
        <p id="diagDesc" style="font-size: 1.15rem; color: #555; margin-bottom: 30px; line-height: 1.6;"></p>
        
        <div style="background: white; padding: 40px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); display: inline-block; border: 1px solid #eee;">
          <p id="diagPrice" style="font-size: 2rem; font-weight: 700; color: var(--text); margin-bottom: 10px;"></p>
          <p id="diagNote" style="font-size: 0.9rem; color: var(--muted); margin-bottom: 25px;"></p>
          
          <a
            href="https://wa.me/573007260562?text=Hola%20Karen,%20me%20interesa%20agendar%20el%20Diagnóstico%20de%20Estrategia%20Analítica."
            id="diagBtn"
            class="btn-whatsapp btn-whatsapp-pulse"
            target="_blank"
            rel="noopener"
          >
            <i class="fa-brands fa-whatsapp"></i>
            Escríbeme por WhatsApp
          </a>
          </div>
          </div>
          </section>


    <section id="contact" aria-labelledby="contactTitle">
      <h2 id="contactTitle">Contacto</h2>

      <div class="cta">
        <p id="contactLead" style="margin:6px 0 12px">
          ¿Listo para transformar datos en decisión? Escríbeme y conversamos.
        </p>

        <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap">
          <a class="btn-primary" id="btnMail" href="mailto:Karengzplazas@gmail.com">Enviar correo</a>
          <button class="btn-outline" style="color:var(--primary); border-color:var(--primary)" id="btnCall" onclick="openModal()">
            Agendar llamada
          </button>
        </div>

        <p style="margin-top:20px; color:var(--muted)">
          Email: <a href="mailto:Karengzplazas@gmail.com" style="color:var(--primary)">Karengzplazas@gmail.com</a>
        </p>
      </div>
    </section>

  <div id="contactModal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeModal()">&times;</span>
      <h3 id="modalTitle">Agendar una llamada</h3>
      <form action="https://formspree.io/f/xjgylpnb" method="POST" id="scheduleForm">
        <div class="form-group">
          <label id="labelName">Nombre</label>
          <input type="text" name="name" required placeholder="Tu nombre">
        </div>
        <div class="form-group">
          <label id="labelPhone">Teléfono</label>
          <input type="tel" name="phone" required placeholder="Ej: +57 300 123 4567">
        </div>
        <div class="form-group">
          <label id="labelEmail">Correo</label>
          <input type="email" name="email" required placeholder="tu@email.com">
        </div>
        <div class="form-group">
          <label id="labelMsg">Mensaje</label>
          <textarea name="message" rows="3" placeholder="¿En qué puedo ayudarte?"></textarea>
        </div>
        <button type="submit" class="btn-primary" style="width:100%" id="btnSubmitForm">Enviar solicitud</button>
      </form>
    </div>
  </div>

  <div id="serviceDetailModal" class="modal">
    <div class="modal-content">
      <span class="close-modal" onclick="closeServiceModal()">&times;</span>
      <div id="serviceContent"></div>
      <div style="margin-top:25px; text-align:center;">
        <button class="btn-primary" id="modalServiceCta" onclick="closeServiceModal(); openModal();">Solicitar información</button>
      </div>
    </div>
  </div>

  <footer>
    © <span id="year"></span> <span id="footerText">Karen Gómez P. — Transformando datos en conocimiento.</span>
  </footer>

 <script>
<script>
console.log("1. Iniciando carga completa...");

// --- 1. TUS DATOS DE SERVICIOS COMPLETOS ---
const serviceDetails = {
  analytics: {
    icon: "fa-chart-line",
    title: { es: "Analítica & Visualización", en: "Analytics & Visualization" },
    text: { 
      es: "Transformo datos complejos en historias visuales. Uso Power BI y Python para crear dashboards que facilitan decisiones basadas en evidencia.", 
      en: "I transform complex data into visual stories. I use Power BI and Python to create dashboards that facilitate evidence-based decisions." 
    },
    faqs: { 
      es: [
        { q: "¿Qué herramientas usas?", a: "Power BI, Plotly y Seaborn." },
        { q: "¿Es fácil de usar?", a: "Sí, diseño interfaces intuitivas para perfiles no técnicos." }
      ],
      en: [
        { q: "What tools do you use?", a: "Power BI, Plotly, and Seaborn." },
        { q: "Is it easy to use?", a: "Yes, I design intuitive interfaces for non-technical profiles." }
      ]
    }
  },
  bio: {
    icon: "fa-vials",
    title: { es: "Bioestadística & Rigor Científico", en: "Biostatistics & Scientific Rigor" },
    text: { 
      es: "Como Química, entiendo el rigor del laboratorio. Aplico diseño experimental (DoE) y modelos de regresión para asegurar resultados significativos.", 
      en: "As a Chemist, I understand lab rigor. I apply experimental design (DoE) and regression models to ensure significant results." 
    },
    faqs: {
      es: [
        { q: "¿Ayudas con publicaciones?", a: "Sí, aseguro que la estadística cumpla con estándares de revistas." },
        { q: "¿Analizas datos clínicos?", a: "Sí, manejo bases de datos de salud bajo protocolos éticos." }
      ],
      en: [
        { q: "Do you help with publications?", a: "Yes, I ensure statistics meet journal standards." },
        { q: "Do you analyze clinical data?", a: "Yes, I handle health databases under ethical protocols." }
      ]
    }
  },
  data: {
    icon: "fa-database",
    title: { es: "Gestión de Datos & ETL", en: "Data Management & ETL" },
    text: { 
      es: "Automatizo la limpieza de datos desorganizados. Creo flujos de trabajo en SQL y Python para garantizar que tus datos sean reproducibles.", 
      en: "I automate disorganized data cleaning. I create SQL and Python workflows to ensure your data is reproducible." 
    },
    faqs: {
      es: [
        { q: "¿Están seguros mis datos?", a: "Manejo protocolos de estricta confidencialidad para proteger toda tu información." },
        { q: "¿Entregas el código fuente?", a: "Sí, entrego scripts documentados, limpios y listos para ser usados por tu equipo." }
      ],
      en: [
        { q: "Is my data secure?", a: "I maintain strict confidentiality protocols to ensure all your information is protected." },
        { q: "Do you deliver the source code?", a: "Yes, I provide documented, clean scripts ready for your team to use." }
      ]
    }
  },
  training: {
    icon: "fa-chalkboard-teacher",
    title: { es: "Capacitaciones a Medida", en: "Custom Training" },
    text: { 
      es: "Talleres prácticos sobre Python y visualización. Enseño a equipos a ser autónomos en el manejo de sus propios datos.", 
      en: "Hands-on workshops on Python and visualization. I teach teams to be autonomous in handling their own data." 
    },
    faqs: {
      es: [
        { q: "¿Es para principiantes?", a: "Sí, adapto el nivel desde cero absoluto." },
        { q: "¿Dan certificado?", a: "Se entrega constancia técnica de participación." }
      ],
      en: [
        { q: "Is it for beginners?", a: "Yes, I adapt the level from absolute zero." },
        { q: "Do you provide certificates?", a: "Technical certificates of participation are provided." }
      ]
    }
  }
};

// --- 2. TUS TRADUCCIONES REALES ---
const translations = {
  es: {
    navAbout: "Sobre mí", navServices: "Servicios", navProjects: "Proyectos", navContact: "Contacto",
    heroName: "Transformando datos en decisiones claras",
    heroSubtitle: "Bioestadística • Machine Learning • Química",
    ctaPrimary: "Trabajemos juntos", ctaSecondary: "Ver GitHub",
    aboutTitle: "Sobre mí",
    aboutText1: "<strong>Química con experiencia en análisis de datos y bioestadística aplicada a proyectos reales.</strong> Ayudo a transformar datos científicos en información clara para la toma de decisiones en salud, educación e industria.",
    aboutText2: "Trabajo con Python, SQL y Power BI, aplicando técnicas de machine learning y análisis estadístico para generar resultados reproducibles, bien documentados y fáciles de comunicar.",
    servicesTitle: "Servicios", 
    service1Title: "Analítica & Visualización", service1Desc: "Dashboards interactivos y reportes ejecutivos.",
    service2Title: "Bioestadística", service2Desc: "Diseño experimental y análisis de estudios de salud.",
    service3Title: "Gestión de Datos", service3Desc: "ETL, SQL y pipelines reproducibles.",
    service4Title: "Capacitaciones", service4Desc: "Talleres prácticos en Python y visualización.",
    diagStep: "Paso 1: Análisis Inicial",
    diagTitle: "Diagnóstico de Estrategia Analítica",
    diagDesc: "Analicemos la viabilidad de sus datos y definamos una hoja de ruta técnica clara antes de iniciar su proyecto.",
    diagPrice: "Consultoría de Viabilidad",
    diagBtn: "Agendar por WhatsApp",
    diagNote: "*Evaluación técnica personalizada para su proyecto.",
    projectsTitle: "Proyectos Destacados", pLink: "Ver proyecto", 
    p1Desc: "Análisis predictivo para factores de supervivencia usando ML.",
    p2Desc: "Modelo para predecir abandono y optimización de retención.",
    p3Desc: "Análisis de mercado de autos usados y modelo de compra-venta.",
    p4Desc: "Estudio y visualizaciones para políticas públicas basadas en datos.",
    contactTitle: "Contacto", contactLead: "¿Listo para transformar datos en decisión? Escríbeme.",
    btnMail: "Enviar correo", btnCall: "Agendar llamada", modalTitle: "Agendar una llamada",
    labelName: "Nombre", labelPhone: "Teléfono", labelEmail: "Correo", labelMsg: "Mensaje", btnSubmitForm: "Enviar solicitud",
    footerText: "Karen Gómez P. • Datos con rigor, decisiones con claridad.",
    modalServiceCta: "Solicitar información"
  },
  en: {
    navAbout: "About me", navServices: "Services", navProjects: "Projects", navContact: "Contact",
    heroName: "Transforming data into clear decisions",
    heroSubtitle: "Biostatistics • Machine Learning • Chemistry",
    ctaPrimary: "Let's work together", ctaSecondary: "View GitHub",
    aboutTitle: "About me",
    aboutText1: "<strong>Chemist with experience in data analysis and biostatistics applied to real-world projects.</strong> I help transform scientific data into clear information for decision-making.",
    aboutText2: "I work with Python, SQL, and Power BI, applying machine learning and statistical analysis to generate reproducible, well-documented results.",
    servicesTitle: "Services", 
    service1Title: "Analytics & Visualization", service1Desc: "Interactive dashboards and executive reports.",
    service2Title: "Biostatistics", service2Desc: "Experimental design and health study analysis.",
    service3Title: "Data Management", service3Desc: "ETL, SQL and reproducible pipelines.",
    service4Title: "Training", service4Desc: "Hands-on Python and visualization workshops.",
    diagStep: "Step 1: Initial Analysis",
    diagTitle: "Analytical Strategy Diagnosis",
    diagDesc: "Let's analyze your data viability and define a clear technical roadmap before starting your project.",
    diagPrice: "Feasibility Consultancy",
    diagBtn: "Schedule via WhatsApp",
    diagNote: "*Personalized technical evaluation for your project.",
    projectsTitle: "Featured Projects", pLink: "View project", 
    p1Desc: "Predictive analysis for survival factors using ML.",
    p2Desc: "Model to predict churn and retention optimization strategy.",
    p3Desc: "Used cars market analysis and buy-sell optimization model.",
    p4Desc: "Study and visualizations for data-driven public policies.",
    contactTitle: "Contact", contactLead: "Ready to transform data into decisions? Write to me.",
    btnMail: "Send email", btnCall: "Schedule call", modalTitle: "Schedule a call",
    labelName: "Name", labelPhone: "Phone", labelEmail: "Email", labelMsg: "Message", btnSubmitForm: "Send request",
    footerText: "Karen Gómez P. • Rigorous data, clear decisions.",
    modalServiceCta: "Request information"
  }
};

// --- 3. LÓGICA DE FUNCIONAMIENTO ---
let currentLang = 'es';

function updateLanguage() {
  const texts = translations[currentLang];
  
  const safeUpdate = (id, content, isHTML = false) => {
    const el = document.getElementById(id);
    if (el) {
      if (isHTML) el.innerHTML = content;
      else el.textContent = content;
    }
  };

  // Traducción masiva de IDs
  Object.keys(texts).forEach(key => {
    safeUpdate(key, texts[key], key === 'aboutText1');
  });

  // Traducción de clases (p-link)
  document.querySelectorAll('.p-link').forEach(link => { 
    link.textContent = texts.pLink; 
  });

  // Actualizar Botón WhatsApp con icono
  const diagBtn = document.getElementById('diagBtn');
  if (diagBtn) {
    diagBtn.innerHTML = `<i class="fab fa-whatsapp" style="margin-right:10px;"></i> ${texts.diagBtn}`;
    diagBtn.href = currentLang === 'es' 
      ? "https://wa.me/573007260562?text=Hola%20Karen,%20me%20interesa%20agendar%20una%20sesión%20de%20diagnóstico%20analítico."
      : "https://wa.me/573007260562?text=Hi%20Karen,%20I%20am%20interested%20in%20scheduling%20an%20analytical%20diagnosis%20session.";
  }
}

// --- 4. MODALES Y FAQS ---
function toggleFaq(btn) {
  btn.parentElement.classList.toggle('active');
}

function openServiceModal(key) {
  const data = serviceDetails[key];
  const container = document.getElementById('serviceContent');
  if (!data || !container) return;

  const faqsHtml = data.faqs[currentLang].map(item => `
    <div class="faq-item">
      <button class="faq-question" onclick="toggleFaq(this)">
        <span>${item.q}</span>
        <i class="fas fa-chevron-down"></i>
      </button>
      <div class="faq-answer"><p>${item.a}</p></div>
    </div>
  `).join('');

  container.innerHTML = `
    <div style="text-align:center; margin-bottom:20px;"><i class="fas ${data.icon}" style="font-size:3rem; color:var(--primary);"></i></div>
    <h3 style="text-align:center; font-family:'Playfair Display';">${data.title[currentLang]}</h3>
    <p style="text-align:center; margin-bottom:20px;">${data.text[currentLang]}</p>
    <div class="modal-faqs">${faqsHtml}</div>
    <div style="text-align:center; margin-top:30px;">
      <a href="#contact" onclick="closeServiceModal()" class="btn-primary">
        ${currentLang === 'es' ? 'Consultar ahora' : 'Inquire now'}
      </a>
    </div>
  `;
  document.getElementById('serviceDetailModal').style.display = "block";
}

function closeServiceModal() {
  document.getElementById('serviceDetailModal').style.display = "none";
}

// --- 5. CONFIGURACIÓN FINAL Y ARRANQUE ---
document.addEventListener('DOMContentLoaded', () => {
  console.log("Iniciando configuración final...");

  // A. Botón de Idioma
  const langToggle = document.getElementById('langToggle');
  if (langToggle) {
    langToggle.addEventListener('click', () => {
      currentLang = currentLang === 'es' ? 'en' : 'es';
      langToggle.textContent = currentLang.toUpperCase();
      updateLanguage();
    });
  }

  // B. Control de Modales (Cerrar al hacer clic fuera)
  // Usamos addEventListener para no sobreescribir otros clics
  window.addEventListener('click', (e) => {
    // Si el usuario hace clic en el fondo oscuro del modal, se cierra
    if (e.target.classList.contains('modal')) {
      e.target.style.display = "none";
    }
  });

  // C. Menú Hamburguesa (Para que no se pierda en el móvil)
  const hamb = document.getElementById('hamburger');
  const navLinks = document.getElementById('navLinks');
  if (hamb && navLinks) {
    hamb.addEventListener('click', () => {
      navLinks.classList.toggle('show');
    });
  }

  // D. Año del Footer
  const yearEl = document.getElementById('year');
  if(yearEl) yearEl.textContent = new Date().getFullYear();

  // E. EJECUCIÓN INICIAL
  updateLanguage();
  console.log("4. Todo listo y funcionando.");
});
</script>
</body>
</html>
